document.addEventListener("DOMContentLoaded",()=>{let{ajax_url:s,nonce:c}=FS_SEO_Internal_Link_Juicer;document.body.addEventListener("click",a=>{let n=a.target.closest(".toggle-link");if(n){a.preventDefault();let{postId:e,keyphrase:t,url:r,action:o}=n.dataset;console.log("AJAX parameters:",{postId:e,keyphrase:t,url:r,action:o}),fetch(s,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:new URLSearchParams({action:"fs_toggle_link",post_id:e,keyphrase:t,url:r,toggle_action:o,nonce:c})}).then(e=>e.json()).then(e=>{e.success?(n.textContent="add"===o?"Remove Link":"Add Link",n.dataset.action="add"===o?"remove":"add",n.style.color="add"===o?"red":"green"):(console.error("AJAX response error:",e.data||"Unknown error"),alert(e.data||"Error occurred."))}).catch(e=>{console.error("AJAX fetch error:",e),alert("An error occurred while trying to toggle the link.")})}}),(()=>{let o=document.querySelectorAll(".nav-tab"),a=document.querySelectorAll(".post-type-tab");if(0!==o.length){let r=e=>{var t=document.querySelector(e.getAttribute("href"));t&&(a.forEach(e=>e.style.display="none"),o.forEach(e=>e.classList.remove("nav-tab-active")),e.classList.add("nav-tab-active"),t.style.display="block")};o.forEach(t=>{t.addEventListener("click",e=>{e.preventDefault(),r(t)})}),r(o[0])}})(),(()=>{let t=document.getElementById("focus-keyphrase-container");var e=document.getElementById("add-focus-keyphrase");t&&e&&(e.addEventListener("click",()=>{var e=document.createElement("div");e.classList.add("focus-keyphrase-row"),e.innerHTML=`
                <input type="text" name="fs_seo_ilj_focus_keyphrases[]" value="" />
                <button type="button" class="remove-keyphrase">Remove</button>
            `,t.appendChild(e)}),t.addEventListener("click",e=>{e.target.classList.contains("remove-keyphrase")&&e.target.closest(".focus-keyphrase-row").remove()}))})()});